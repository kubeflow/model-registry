# Add Artifact Type to {{.EntityName}}

This skill guides you through adding a new artifact type associated with {{.EntityName}} entities.

## Arguments

The user should provide:
- Artifact name (e.g., "Version", "License", "Deployment")
- Properties for the artifact (ask if not provided)

## Step 1: Update catalog.yaml

Add the new artifact under `spec.artifacts`:

```yaml
spec:
  artifacts:
    # ... existing artifacts ...
    - name: <ArtifactName>  # PascalCase, e.g., "Version"
      properties:
        - name: <propertyName>
          type: string
```

## Step 2: Regenerate Code

Run the generator:

```bash
catalog-gen generate
make gen/openapi-server
```

## Step 3: Update cmd/{{.CatalogName}}.go

Add the artifact repository to `NewServices` and update the provider registry type.

## Step 4: Update yaml_provider.go

1. Add the catalog import
2. Change function signatures from `any` to `catalog.Artifact`
3. Add artifact struct for YAML parsing
4. Add artifact parsing in parse{{.EntityName}}Catalog

## Step 5: Update api_{{.EntityNameLower}}_service_impl.go

Add the artifact list endpoint and conversion function.

## Step 6: Update Sample Artifacts

Edit `manifests/kustomize/overlays/dev/artifacts.yaml` with sample data.

## Verification

```bash
go build ./...
```
