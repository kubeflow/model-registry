# catalog-gen Skills & Commands Reference

This document describes the AI agent skills and slash commands generated by `catalog-gen generate` for each catalog project.

## Overview

When you run `catalog-gen generate`, it creates two directories in the generated catalog:

- `.claude/commands/` - Slash commands that can be invoked directly (e.g., `/run-local`)
- `.claude/skills/` - Detailed skill files with step-by-step instructions

## Generated Commands

### Development Workflow

| Command | File | Description |
|---------|------|-------------|
| `/add-property` | `add-property.md` | Add a new property to the entity. Guides through updating catalog.yaml, regenerating, and updating converters. |
| `/add-artifact` | `add-artifact.md` | Add a new artifact type. Guides through updating catalog.yaml, regenerating, and running /implement-artifacts. |
| `/add-provider` | `add-provider.md` | Add a new data provider (http, grpc, s3, etc.). Creates provider file and registers it. |
| `/regenerate` | `regenerate.md` | Regenerate code from catalog.yaml and fix any resulting build issues. |
| `/implement-artifacts` | `implement-artifacts.md` | Implement missing artifact support after adding artifacts to catalog.yaml. |
| `/fix-build` | `fix-build.md` | Diagnose and fix compilation errors. |

### Testing & Debugging

| Command | File | Description |
|---------|------|-------------|
| `/run-local` | `run-local.md` | Start the catalog server locally for testing. Includes port, base URL, and quick test curl. |
| `/test-api` | `test-api.md` | Generate curl commands to test all API endpoints including pagination and artifacts. |
| `/seed-data` | `seed-data.md` | Populate sample-catalog.yaml and artifacts.yaml with test data. |

## Generated Skills

Skills provide detailed, step-by-step instructions with code snippets customized for the specific catalog.

| Skill File | Purpose |
|------------|---------|
| `README.md` | Master reference listing all commands, workflows, and common scenarios |
| `add-property.md` | Step-by-step guide for adding entity properties with code examples |
| `add-artifact.md` | Step-by-step guide for adding artifact types |
| `add-provider.md` | Step-by-step guide for adding data providers with template code |
| `implement-artifacts.md` | Exact code snippets for implementing artifact support (NewServices, API methods, conversions) |
| `test-api.md` | Curl commands for testing all endpoints (list, get, pagination, artifacts) |
| `seed-data.md` | Sample data templates for entities and artifacts |

## Customization

All generated files are customized with:

- **Entity name** (e.g., `McpServer`)
- **Artifact names** (e.g., `Tool`)
- **Catalog name** (e.g., `mcp-catalog`)
- **API port** (e.g., `8081`)
- **Property names and types**
- **File paths** specific to the catalog

## Common Workflows

### Adding a New Property

```
/add-property version string
```

This guides you through:
1. Updating `catalog.yaml`
2. Running `catalog-gen generate`
3. Updating repository converter
4. Updating OpenAPI service implementation
5. Updating YAML provider

### Adding a New Artifact

```
/add-artifact License
```

This guides you through:
1. Updating `catalog.yaml` with artifact definition
2. Running `catalog-gen generate`
3. Running `/implement-artifacts` to complete integration

### Testing the API

```
/seed-data
/run-local
/test-api
```

### Fixing Build Errors

```
/fix-build
```

Or for artifact-specific errors:

```
/implement-artifacts
```

## File Structure

After running `catalog-gen generate`, the catalog will have:

```
<catalog>/
├── .claude/
│   ├── commands/
│   │   ├── add-property.md
│   │   ├── add-artifact.md
│   │   ├── add-provider.md
│   │   ├── regenerate.md
│   │   ├── implement-artifacts.md
│   │   ├── fix-build.md
│   │   ├── run-local.md
│   │   ├── test-api.md
│   │   └── seed-data.md
│   └── skills/
│       ├── README.md
│       ├── add-property.md
│       ├── add-artifact.md
│       ├── add-provider.md
│       ├── implement-artifacts.md
│       ├── test-api.md
│       └── seed-data.md
├── CLAUDE.md              # Main context file for AI agents
└── docs/
    └── post-artifact-generation.md
```

## Integration with Claude Code

These files are automatically recognized by Claude Code:

- **CLAUDE.md** - Loaded as project context
- **`.claude/commands/*.md`** - Available as slash commands
- **`.claude/skills/*.md`** - Referenced by commands for detailed instructions

When an AI agent is working in the catalog directory, it can:
1. Read CLAUDE.md for overall project context
2. Use slash commands for common tasks
3. Follow skill files for detailed implementation steps
