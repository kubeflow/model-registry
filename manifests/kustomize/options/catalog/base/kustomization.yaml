apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- deployment.yaml
- service.yaml
- postgres-statefulset.yaml
- postgres-pvc.yaml
- postgres-service.yaml

configMapGenerator:
- behavior: create
  files:
  - sources.yaml=dev-sources.yaml
  - dev-organization-models.yaml=dev-organization-models.yaml
  - dev-validated-models.yaml=dev-validated-models.yaml
  - dev-community-models.yaml=dev-community-models.yaml
  name: model-catalog-sources
  options:
    disableNameSuffixHash: true

secretGenerator:
- name: model-catalog-postgres
  envs:
  - postgres.env
  options:
    disableNameSuffixHash: true
- name: model-catalog-hf-api-key
  envs:
  - hf-api-key.env
  options:
    disableNameSuffixHash: true
